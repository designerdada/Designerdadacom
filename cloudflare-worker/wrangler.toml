name = "photography-worker"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# R2 bucket binding
[[r2_buckets]]
binding = "PHOTOS_BUCKET"
bucket_name = "designerdada-photos"

# Environment variables (set via wrangler secret)
# ADMIN_PASSWORD_HASH - bcrypt hash of the admin password
# Set with: wrangler secret put ADMIN_PASSWORD_HASH

[vars]
# Comma-separated list of allowed CORS origins
# Includes production domains (www and non-www) plus localhost for development
CORS_ORIGIN = "https://www.designerdada.com,https://designerdada.com,http://localhost:3000"
# Cloudflare Images configuration (semi-public - account hash is visible in image URLs)
CF_ACCOUNT_ID = "15da6c62f90a8eb014de5f9ff3918ea0"
CF_IMAGES_ACCOUNT_HASH = "SwqrinvM3qHSiSLb7f3jXg"

# Secrets (set via wrangler secret put):
# - ADMIN_PASSWORD_HASH: SHA-256 hash of admin password
# - CF_IMAGES_API_TOKEN: Cloudflare Images API token
#
# Set with:
#   npx wrangler secret put ADMIN_PASSWORD_HASH
#   npx wrangler secret put CF_IMAGES_API_TOKEN
